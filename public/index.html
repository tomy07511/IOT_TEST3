<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Panel de Sensores â€” IoT</title>

<!-- Chart.js + Zoom plugin -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>

<!-- Leaflet + Fullscreen plugin -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css"/>
<script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js"></script>

<!-- Socket.IO -->
<script src="/socket.io/socket.io.js"></script>

<style>
:root{
  --bg:#0b1d2a; --card:#102a3c; --accent:#00e5ff; --muted:#1e3a4c; --text:#eaf6f8;
}
html,body{height:100%;margin:0;font-family:"Segoe UI",system-ui,Arial; background:var(--bg); color:var(--text);}
header{padding:12px 18px;text-align:center;color:var(--accent);}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(360px,1fr));gap:16px;padding:16px;align-items:start;}
.card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(0,229,255,0.06);position:relative;overflow:hidden;}
.card h4{margin:0 0 8px 0;color:var(--accent);font-weight:600}
canvas{width:100% !important;height:220px !important; display:block}
.card-small canvas{height:80px !important}
#mapWrap{width:95%;margin:16px auto;border-radius:12px;padding:10px;background:var(--card)}
#map{width:100%;height:420px;border-radius:8px}
.btn-historicos{display:block;width:180px;margin:16px auto;padding:10px;background:var(--accent);color:#002;border:none;border-radius:8px;text-align:center;font-weight:600;cursor:pointer;}
</style>
</head>
<body>
<header><h2>Panel de Sensores â€” IoT</h2></header>

<!-- MAP -->
<div id="mapWrap" class="card">
  <h4>UbicaciÃ³n GPS</h4>
  <div id="map"></div>
</div>

<!-- GRÃFICAS -->
<div class="grid" id="chartsGrid"></div>

<!-- BOTÃ“N A HISTÃ“RICOS -->
<button class="btn-historicos" onclick="window.open('historicos.html','_blank')">ðŸ“Š Ver HistÃ³ricos</button>

<script src="script.js"></script>
</body>
</html>
